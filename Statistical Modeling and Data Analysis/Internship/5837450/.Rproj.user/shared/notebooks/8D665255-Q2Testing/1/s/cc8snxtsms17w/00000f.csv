"0","# Create a data frame for plotting"
"0","plot_data <- data.frame(Age_Group = character(),"
"0","                        Condition = character(),"
"0","                        Deaths = numeric())"
"0",""
"0","for (age_group in names(top_contributors_by_age_no_covid)) {"
"0","    mat <- month_matrices_by_age[[age_group]]"
"0","    top_contributors <- top_contributors_by_age_no_covid[[age_group]]"
"0","    for (contributor in top_contributors) {"
"0","        plot_data <- rbind(plot_data,"
"0","                           data.frame(Age_Group = age_group,"
"0","                                      Condition = contributor,"
"0","                                      Deaths = sum(mat[,contributor])))"
"0","    }"
"0","}"
"0",""
"0","# Create the plot"
"0","ggplot(plot_data, aes(x = Age_Group, y = Deaths, fill = Condition)) +"
"0","    geom_col(position = ""dodge"") +"
"0","    labs(title = ""Top 3 Contributors to Death by Age Group"","
"0","         x = ""Age Group"","
"0","         y = ""Deaths"")"
